# 步进控制记录
这一篇是对下位机程序的分析和拆解

## 使用的外设
1. DMA
2. ADC
3. USART
4. CAN
5. SPI
6. TIM*4

## 斩波电机驱动TB67H450FNG（目前还不知道能否适配其他电机及其原因）
1. 两种驱动模式：恒流，恒压（依靠外部电路设计）
2. 两种模式（工作、空闲）
3. 三种防护（UVLO、过温、过流）
4. 快速和慢速模式是怎么回事？

### 450和541A的区别
1. +1：过流保护变为3ms后自动恢复
2. A：进空闲时序有一定变化
   https://toshiba-semicon-storage.com/cn/search/keyword.html?word=tb67h

## 待解决的问题
- 自行编写的内容
- 库文件的链接问题，在不使用传统IDE的情况下cmake是如何编写的
  - 大佬也是抄的模板啊啊哈哈哈哈哈哈哈哈，soga
- 又编写了一个Main函数至UserApp下，很聪明的选项，尤其是当主函数内容很复杂的情况下
- 另一个值得学习的是，单独编写一个通用的include文件，用来对大量比较墨迹的文件进行include